(this["webpackJsonpcf-plot"]=this["webpackJsonpcf-plot"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),c=n(17),s=n.n(c),i=(n(23),n(9)),o=(n(24),n(18)),u=(n(27),n(8)),l=n(16),d=n(4);u.a.register(l.a);var f={scales:{x:{type:"time",time:{unit:"month"},grid:{display:!1}}},plugins:{zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy"},limits:{x:{min:1262353464e3,max:Date.now(),minRange:50},y:{min:0,max:5e3,minRange:50}}}}},b=function(e){var t=e.datasets,n=e.progress;if(0===t.length)return 0===n.total?Object(d.jsx)(d.Fragment,{}):Object(d.jsx)("div",{className:"rating",children:Object(d.jsxs)("h2",{children:["Fetching rating changes ",n.done,"/",n.total]})});var a={datasets:t};return Object(d.jsxs)("div",{className:"rating",children:[Object(d.jsx)("div",{className:"header",children:Object(d.jsx)("h1",{className:"title",children:"Rating Changes"})}),Object(d.jsx)(o.a,{data:a,options:f,plugins:[l.a],width:900,height:400})]})},h=n(3),j=n(10),p=n.n(j),m=n(15),v=function(){var e=Object(m.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<n)){e.next=12;break}return e.next=4,fetch(t);case 4:if(!(r=e.sent).ok){e.next=7;break}return e.abrupt("return",r.json());case 7:if(400!==r.status){e.next=9;break}return e.abrupt("return",Promise.reject(new Error("Invalid handles!")));case 9:a++,e.next=1;break;case 12:return e.abrupt("return",Promise.reject(new Error("still failed after ".concat(n," times of trying"))));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(p.a.mark((function e(t,n,a){var r,c,s,i,o,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],c=[],s=t.split("\n"),n([]),a({done:0,total:s.length}),i=0,o=Object(h.a)(s),e.prev=7,l=p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.value,e.next=3,v("https://codeforces.com/api/user.rating?handle="+t,10).then((function(e){r.push(e.result)}),(function(e){c.push(t),console.error(e)}));case 3:i++,a({done:i,total:s.length});case 5:case"end":return e.stop()}}),e)})),o.s();case 10:if((u=o.n()).done){e.next=14;break}return e.delegateYield(l(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(7),o.e(e.t1);case 19:return e.prev=19,o.f(),e.finish(19);case 22:if(0===c.length){e.next=26;break}return alert("".concat(c.join(", ")," are invalid handle(s)!")),n([]),e.abrupt("return");case 26:n(O(r));case 27:case"end":return e.stop()}}),e,null,[[7,16,19,22]])})));return function(t,n,a){return e.apply(this,arguments)}}(),g=["#25CCF7","#FD7272","#54a0ff","#00d2d3","#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d","#55efc4","#81ecec","#74b9ff","#a29bfe","#00b894","#00cec9","#0984e3","#6c5ce7","#ffeaa7","#fab1a0","#ff7675","#fd79a8","#fdcb6e","#e17055","#d63031","#feca57","#5f27cd","#54a0ff","#01a3a4"],O=function(e){var t,n=g.slice(),a=[],r=Object(h.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value;if(0!==c.length){var s,i={borderColor:n.pop(),label:c[0].handle,data:[],parsing:!1},o=Object(h.a)(c);try{for(o.s();!(s=o.n()).done;){var u=s.value;i.data.push({x:1e3*u.ratingUpdateTimeSeconds,y:u.newRating})}}catch(l){o.e(l)}finally{o.f()}a.push(i)}}}catch(l){r.e(l)}finally{r.f()}return a};var y=function(e){var t=e.users;return Object(d.jsx)("ul",{className:"rating",id:"rating-display",children:t.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsxs)("h3",{className:(t=e.rating,void 0===t?"user-black":t<1200?"user-gray":t<1400?"user-green":t<1600?"user-cyan":t<1900?"user-blue":t<2100?"user-violet":t<2400?"user-orange":t<2600?"user-fire":t<3e3?"user-red":"user-legendary"),children:[e.handle," ",e.rating]})},e.handle);var t}))})},k=function(e){var t=e.handles,n=e.setHandles,a=e.submitAct;return Object(d.jsxs)("form",{onSubmit:a,className:"form",children:[Object(d.jsx)("div",{className:"input-div",children:Object(d.jsx)("textarea",{rows:3,placeholder:"codeforces handles, one per line",className:"input",value:t,onChange:function(e){return n(e.target.value)}})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"go"})})]})},w=function(){Object(a.useEffect)((function(){document.title="cf plot"}),[]);var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(i.a)(c,2),o=s[0],u=s[1],l=Object(a.useState)([]),f=Object(i.a)(l,2),h=f[0],j=f[1],p=Object(a.useState)({done:0,total:0}),m=Object(i.a)(p,2),v=m[0],g=m[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)(k,{handles:n,setHandles:r,submitAct:function(e){e.preventDefault(),function(e,t){t([]);var n=e.replaceAll("\n",";");fetch("https://codeforces.com/api/user.info?handles="+n).then((function(e){return e.ok?e.json():400===e.status?Promise.reject(new Error("Invalid handles!")):void 0})).then((function(e){t(e.result)}),(function(e){console.error(e)}))}(n,u),x(n,j,g)}}),Object(d.jsx)(y,{users:o}),Object(d.jsx)(b,{datasets:h,progress:v})]})};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.04bd18d5.chunk.js.map